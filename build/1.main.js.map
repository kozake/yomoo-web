{"version":3,"sources":["../../src/pages/book-search/book-search.module.ts","webpack:///./src/directives/keyboard-attach/keyboard-attach.module.ts?7cf0","webpack:///./src/directives/keyboard-attach/keyboard-attach.ts?ad34","../../src/pages/book-search/book-search.ts"],"names":[],"mappings":"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","file":"1.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { BookSearchPage } from './book-search';\nimport { KeyboardAttachDirectiveModule } from '../../directives/keyboard-attach/keyboard-attach.module';\n\n@NgModule({\n  declarations: [\n    BookSearchPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(BookSearchPage),\n    KeyboardAttachDirectiveModule,\n  ],\n  exports: [\n    BookSearchPage\n  ]\n})\nexport class BookSearchPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/book-search/book-search.module.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { KeyboardAttachDirective } from './keyboard-attach';\n\n@NgModule({\n  declarations: [\n    KeyboardAttachDirective,\n  ],\n  imports: [\n    IonicPageModule.forChild(KeyboardAttachDirective),\n  ],\n  exports: [\n    KeyboardAttachDirective\n  ]\n})\nexport class KeyboardAttachDirectiveModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/directives/keyboard-attach/keyboard-attach.module.ts","import { Directive, ElementRef, Input, OnDestroy, OnInit } from '@angular/core';\nimport { Keyboard } from '@ionic-native/keyboard';\nimport { Content, Platform } from 'ionic-angular';\nimport { Subscription } from 'rxjs/Subscription';\n\n\n/**\n * @name KeyboardAttachDirective\n * @source https://gist.github.com/Manduro/bc121fd39f21558df2a952b39e907754\n * @description\n * The `keyboardAttach` directive will cause an element to float above the\n * keyboard when the keyboard shows. Currently only supports the `ion-footer` element.\n * \n * ### Notes\n * - This directive requires [Ionic Native](https://github.com/driftyco/ionic-native)\n * and the [Ionic Keyboard Plugin](https://github.com/driftyco/ionic-plugin-keyboard).\n * - Currently only tested to work on iOS.\n * - If there is an input in your footer, you will need to set\n *   `Keyboard.disableScroll(true)`.\n *\n * @usage\n *\n * ```html\n * <ion-content #content>\n * </ion-content>\n * \n * <ion-footer [keyboardAttach]=\"content\">\n *   <ion-toolbar>\n *     <ion-item>\n *       <ion-input></ion-input>\n *     </ion-item>\n *   </ion-toolbar>\n * </ion-footer>\n * ```\n */\n\n@Directive({\n  selector: '[keyboardAttach]'\n})\nexport class KeyboardAttachDirective implements OnInit, OnDestroy {\n  @Input('keyboardAttach') content: Content;\n\n  private onShowSubscription: Subscription;\n  private onHideSubscription: Subscription;\n\n  constructor(\n    private elementRef: ElementRef,\n    private keyboard: Keyboard,\n    private platform: Platform\n  ) {}\n\n  ngOnInit() {\n    if (this.platform.is('cordova') && this.platform.is('ios')) {\n      this.onShowSubscription = this.keyboard.onKeyboardShow().subscribe(e => this.onShow(e));\n      this.onHideSubscription = this.keyboard.onKeyboardHide().subscribe(() => this.onHide());\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.onShowSubscription) {\n      this.onShowSubscription.unsubscribe();\n    }\n    if (this.onHideSubscription) {\n      this.onHideSubscription.unsubscribe();\n    }\n  }\n\n  private onShow(e) {\n    let keyboardHeight: number = e.keyboardHeight || (e.detail && e.detail.keyboardHeight);\n    this.setElementPosition(keyboardHeight);\n  };\n\n  private onHide() {\n    this.setElementPosition(0);\n  };\n\n  private setElementPosition(pixels: number) {\n    this.elementRef.nativeElement.style.paddingBottom = pixels + 'px';\n    this.content.resize();\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/directives/keyboard-attach/keyboard-attach.ts","import { Component } from '@angular/core';\nimport { IonicPage,\n         NavController,\n         ViewController,\n         AlertController,\n         PopoverController,\n         ModalController,\n         ItemSliding,\n         Loading } from 'ionic-angular';\nimport { JhiParseLinks } from 'ng-jhipster';\nimport { AmazonProvider, AppLoadingProvider } from '../../providers'\nimport { AmazonBook } from '../../models'\n\n@IonicPage({\n  name: 'BookSearchPage',\n  segment: 'book-search'\n})\n@Component({\n  selector: 'page-book-search',\n  templateUrl: 'book-search.html'\n})\nexport class BookSearchPage {\n\n  books: Array<AmazonBook> = [];\n\n  keywards: string = \"\";\n\n  _searchKeywards = \"\";\n\n  prev;\n\n  next;\n\n  constructor(private navCtrl: NavController,\n              private viewCtrl: ViewController,\n              private alertCtrl: AlertController,\n              private loading: AppLoadingProvider,\n              private parseLinks: JhiParseLinks,\n              private amazonProvider: AmazonProvider) {\n\n  }\n\n  selectBook(event: Event, book:AmazonBook) {\n\n    this.viewCtrl.dismiss(book);\n  }\n\n  onSearch(page: number) {\n    if (this.keywards === \"\") {\n      return;\n    }\n    this._searchKeywards = this.keywards;\n    this.searchBook(page);\n  }\n\n  onPrev(event: Event) {\n    this.searchBook(this.prev);\n  }\n\n  onNext(event: Event) {\n    this.searchBook(this.next);\n  }\n\n  searchBook(page: number) {\n\n    this.loading.start(() => {\n      return this.amazonProvider.searchBooks(this._searchKeywards, page).toPromise()\n        .then(response => {\n          let links = this.parseLinks.parse(response.headers.get('Link'));\n          this.prev = links.prev;\n          this.next = links.next;\n          this.books = response.json() || {};\n        }).catch(() => {\n          let alert = this.alertCtrl.create({\n            title: 'エラー',\n            subTitle: '検索に失敗しました。時間をおいてから再度検索してください。',\n            buttons: ['OK']\n          });\n          alert.present();\n        })\n    });\n  }\n\n  dismiss(data?: any) {\n    this.viewCtrl.dismiss(null);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/book-search/book-search.ts"],"sourceRoot":""}